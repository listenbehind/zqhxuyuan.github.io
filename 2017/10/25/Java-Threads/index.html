<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>å›¾è§£Javaå¤šçº¿ç¨‹ | zqhxuyuan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="å›¾è§£Javaå¤šçº¿ç¨‹ç¬”è®°ï¼šhttp://tutorials.jenkov.com/java-concurrency/java-memory-model.html">
<meta property="og:type" content="article">
<meta property="og:title" content="å›¾è§£Javaå¤šçº¿ç¨‹">
<meta property="og:url" content="http://github.com/zqhxuyuan/2017/10/25/Java-Threads/index.html">
<meta property="og:site_name" content="zqhxuyuan">
<meta property="og:description" content="å›¾è§£Javaå¤šçº¿ç¨‹ç¬”è®°ï¼šhttp://tutorials.jenkov.com/java-concurrency/java-memory-model.html">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223259352">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223319776">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223335612">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223349934">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223405659">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223425575">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223439855">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223505856">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223526228">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223540422">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223553349">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223606644">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223619840">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223635898">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223648548">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223702928">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223715760">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223729652">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223744977">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223805363">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223821970">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223835313">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223847929">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223900285">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223915171">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223931103">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223943618">
<meta property="og:image" content="http://img.blog.csdn.net/20171025223957776">
<meta property="og:image" content="http://img.blog.csdn.net/20171025224010374">
<meta property="og:updated_time" content="2017-10-25T14:55:43.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å›¾è§£Javaå¤šçº¿ç¨‹">
<meta name="twitter:description" content="å›¾è§£Javaå¤šçº¿ç¨‹ç¬”è®°ï¼šhttp://tutorials.jenkov.com/java-concurrency/java-memory-model.html">
  
    <link rel="alternative" href="/atom.xml" title="zqhxuyuan" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://avatars1.githubusercontent.com/u/1088525?v=3&amp;s=180" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">ä»»ä½•å¿§ä¼¤,éƒ½æŠµä¸è¿‡ä¸–ç•Œçš„ç¾ä¸½</a></h1>
		</hgroup>

		
				


		
			<div id="switch-btn" class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>èœå•</li>
						<li>æ ‡ç­¾</li>
						
						
						<li>å…³äºæˆ‘</li>
						
					</ul>
				</div>
			</div>
		

		<div id="switch-area" class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">ä¸»é¡µ</a></li>
				        
							<li><a href="/archives/">å½’æ¡£</a></li>
				        
							<li><a href="/tags/">æ ‡ç­¾</a></li>
				        
							<li><a href="/about/">å…³äº</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<ul class="social">
							
								<li id="æ–°æµªå¾®åš"><a class="æ–°æµªå¾®åš" target="_blank" href="http://weibo.com/xuyuantree" title="æ–°æµªå¾®åš"></a></li>
					        
								<li id="GitHub"><a class="GitHub" target="_blank" href="http://github.com/zqhxuyuan" title="GitHub"></a></li>
					        
								<li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
					        
						</ul>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/akka/" style="font-size: 10px;">akka</a> <a href="/tags/apex/" style="font-size: 10px;">apex</a> <a href="/tags/bigdata/" style="font-size: 10px;">bigdata</a> <a href="/tags/book/" style="font-size: 10px;">book</a> <a href="/tags/cassandra/" style="font-size: 18.75px;">cassandra</a> <a href="/tags/clojure/" style="font-size: 10px;">clojure</a> <a href="/tags/drill/" style="font-size: 16.25px;">drill</a> <a href="/tags/druid/" style="font-size: 13.75px;">druid</a> <a href="/tags/dubbo/" style="font-size: 10px;">dubbo</a> <a href="/tags/elasticsearch/" style="font-size: 10px;">elasticsearch</a> <a href="/tags/etl/" style="font-size: 10px;">etl</a> <a href="/tags/geode/" style="font-size: 10px;">geode</a> <a href="/tags/graph/" style="font-size: 13.75px;">graph</a> <a href="/tags/hadoop/" style="font-size: 11.25px;">hadoop</a> <a href="/tags/hbase/" style="font-size: 15px;">hbase</a> <a href="/tags/ignite/" style="font-size: 10px;">ignite</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/jvm/" style="font-size: 10px;">jvm</a> <a href="/tags/kafka/" style="font-size: 20px;">kafka</a> <a href="/tags/midd/" style="font-size: 11.25px;">midd</a> <a href="/tags/ops/" style="font-size: 13.75px;">ops</a> <a href="/tags/redis/" style="font-size: 11.25px;">redis</a> <a href="/tags/rocketmq/" style="font-size: 10px;">rocketmq</a> <a href="/tags/scala/" style="font-size: 13.75px;">scala</a> <a href="/tags/spark/" style="font-size: 17.5px;">spark</a> <a href="/tags/storm/" style="font-size: 17.5px;">storm</a> <a href="/tags/timeseries/" style="font-size: 12.5px;">timeseries</a> <a href="/tags/work/" style="font-size: 13.75px;">work</a> <a href="/tags/æµå¤„ç†/" style="font-size: 11.25px;">æµå¤„ç†</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">BIG(DATA)</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"><a href="/" title="å›åˆ°ä¸»é¡µ">ä»»ä½•å¿§ä¼¤,éƒ½æŠµä¸è¿‡ä¸–ç•Œçš„ç¾ä¸½</a></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<a href="/" class="profilepic">
				<img lazy-src="https://avatars1.githubusercontent.com/u/1088525?v=3&amp;s=180" class="js-avatar">
			</a>
			<hgroup>
			  <h1 class="header-author"><a href="/" title="å›åˆ°ä¸»é¡µ">ä»»ä½•å¿§ä¼¤,éƒ½æŠµä¸è¿‡ä¸–ç•Œçš„ç¾ä¸½</a></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">ä¸»é¡µ</a></li>
		        
					<li><a href="/archives/">å½’æ¡£</a></li>
		        
					<li><a href="/tags/">æ ‡ç­¾</a></li>
		        
					<li><a href="/about/">å…³äº</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
						<ul class="social">
							
								<li id="æ–°æµªå¾®åš"><a class="æ–°æµªå¾®åš" target="_blank" href="http://weibo.com/xuyuantree" title="æ–°æµªå¾®åš"></a></li>
					        
								<li id="GitHub"><a class="GitHub" target="_blank" href="http://github.com/zqhxuyuan" title="GitHub"></a></li>
					        
								<li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
					        
						</ul>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-Java-Threads" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/25/Java-Threads/" class="article-date">
  	<time datetime="2017-10-24T16:00:00.000Z" itemprop="datePublished">2017-10-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      å›¾è§£Javaå¤šçº¿ç¨‹
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/java/">java</a>
	</div>


        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>
	</div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <p>å›¾è§£Javaå¤šçº¿ç¨‹ç¬”è®°ï¼š<a href="http://tutorials.jenkov.com/java-concurrency/java-memory-model.html" target="_blank" rel="external">http://tutorials.jenkov.com/java-concurrency/java-memory-model.html</a><br><a id="more"></a></p>
<p>Javaå†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰å®šä¹‰äº†ï¼šhow and when <strong>different threads</strong> can see<br>values written to <strong>shared variables</strong> by other threads,<br>and how to <strong>synchronize access</strong> to shared variables when necessary.</p>
<p><img src="http://img.blog.csdn.net/20171025223259352" alt="1"></p>
<p>Javaå †å’Œæ ˆä¸­çš„å¯¹è±¡å­˜å‚¨ä½ç½®ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223319776" alt="2"></p>
<p>Javaå†…å­˜æ¨¡å‹ä¸ç¡¬ä»¶æ¨¡å‹ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223335612" alt="3"></p>
<p>çº¿ç¨‹è¯»å–ä¸»å†…å­˜çš„æ•°æ®åˆ°CPUç¼“å†²ä¸­ï¼Œå½“æ•°æ®æ”¾åœ¨ä¸åŒä½ç½®æ—¶ï¼Œä¼šæœ‰ä¸¤ä¸ªé—®é¢˜ï¼šå¯è§æ€§ä¸é™æ€æ¡ä»¶</p>
<p><img src="http://img.blog.csdn.net/20171025223349934" alt="4"></p>
<p>A synchronized block in Java is synchronized on some object.<br>All synchronized blocks synchronized on the same object can only<br>have one thread executing inside them at the same time.<br>All other threads attempting to enter the synchronized block are blocked<br>until the thread inside the synchronized block exits the block.</p>
<p>The synchronized keyword can be used to mark four different types of blocks:</p>
<ol>
<li>Instance methods -&gt; on the instance (object) owning the method</li>
<li>Static methods -&gt; on the class object of the class belongs to â€¦</li>
<li>Code blocks inside instance methods</li>
<li>Code blocks inside static methods</li>
</ol>
<p>Synchronized Instance methodsï¼ˆå®ä¾‹æ–¹æ³•çš„åŒæ­¥ï¼‰ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223405659" alt="5"></p>
<p>é™æ€æ–¹æ³•çš„åŒæ­¥ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223425575" alt="6"></p>
<p>ä»£ç å—çš„åŒæ­¥ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223439855" alt="7"></p>
<p>ç”¨jstackæŸ¥çœ‹ï¼ŒåŒä¸€ä¸ªç›‘è§†å™¨å¯¹è±¡åªå…è®¸æœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223505856" alt="d"></p>
<p>å®ä¾‹æ–¹æ³•çš„åŒæ­¥åŠ ä¸Šä»£ç å—thisçš„åŒæ­¥ï¼Œä»ç„¶é’ˆå¯¹åŒä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223526228" alt="e"></p>
<p>è‡ªå®šä¹‰ç›‘è§†å™¨å¯¹è±¡ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223540422" alt="f"></p>
<p>åŒä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„åŠ é”ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223553349" alt="g"></p>
<p>ä¸åŒå®ä¾‹å¯¹è±¡çš„åŠ é”ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223606644" alt="17"></p>
<p>Volatile keyword guarantees visibility of changes to variables across threads.</p>
<blockquote>
<p>every read of a volatile variable will be<br>read from the computerâ€™s main memory,<br>and not from the CPU cache.</p>
<p>every write to a volatile variable will be<br>written to main memory,<br>and not just to the CPU cache.</p>
</blockquote>
<p>If Thread A writes to a volatile variable and Thread B subsequently reads the same volatile variable, then all variables visible to Thread A before writing the volatile variable, will also be visible to Thread B after it has read the volatile variable. </p>
<p>The reading and writing instructions of volatile variables cannot be reordered by the JVM. Instructions before and after can be reordered, but the volatile read or write cannot be mixed with these instructions. Whatever instructions follow a read or write of a volatile variable are guaranteed to happen after the read or write.</p>
<p>volatileå˜é‡ä¸ä¿è¯äº‹åŠ¡ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223619840" alt="56"></p>
<p>volatileå˜é‡ä»ç„¶ä¼šå­˜åœ¨ç«æ€æ¡ä»¶ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223635898" alt="27"></p>
<p>volatileå˜é‡ä¼šç¦æ­¢é‡æ’åºï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223648548" alt="49"></p>
<p>å¦‚æœå˜é‡åœ¨volatileå˜é‡æ›´æ–°ä¹‹åï¼Œä¸ä¿è¯å†™åˆ°ä¸»å­˜ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223702928" alt="11"></p>
<p>ä¸ºäº†ä¿è¯å¯è§æ€§ï¼Œä¸éœ€è¦ä¸ºæ¯ä¸ªå˜é‡éƒ½å®šä¹‰ä¸ºvolatileç±»å‹ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223715760" alt="36"></p>
<p>volatileå˜é‡æ˜¯ä¸ªå†…å­˜å±éšœï¼Œåœ¨è¿™ä¹‹å‰å’Œä¹‹åçš„æŒ‡ä»¤å¯ä»¥é‡æ’åºï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223729652" alt="56"></p>
<p>æœ¬åœ°çº¿ç¨‹çš„ç¤ºä¾‹ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223744977" alt="15"></p>
<p>ä¸‹é¢çš„ä¸Šå›¾æ²¡æœ‰ä½¿ç”¨æœ¬åœ°çº¿ç¨‹ï¼Œä¸‹å›¾ä½¿ç”¨äº†æœ¬åœ°çº¿ç¨‹ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223805363" alt="29"></p>
<p>çº¿ç¨‹çš„ä¿¡å·é‡å®ç°æ–¹å¼â€“busy waitingï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223821970" alt="53"></p>
<p>æˆ–è€…å¯ä»¥ç”¨volatileå˜é‡ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223835313" alt="16"></p>
<p>waitå’Œnotifyçš„ç¤ºä¾‹ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223847929" alt="34"></p>
<p>notifyä¸notifyAllçš„ç¤ºä¾‹ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223900285" alt="51"></p>
<p>ç­‰å¾…çº¿ç¨‹æœ‰å¯èƒ½æ„å¤–è¢«å”¤é†’ï¼Œéœ€è¦ç”¨whileå¾ªç¯ç»§ç»­åˆ¤æ–­æ˜¯å¦è¢«å”¤é†’çº¿ç¨‹notifyï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223915171" alt="05"></p>
<p>ä¸€æ¬¡å”¤é†’æ‰€æœ‰çº¿ç¨‹ï¼Œæˆ–è€…æ¯æ¬¡ä¸€ä¸ªä¸ªåœ°å”¤é†’ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223931103" alt="21"></p>
<p>ä¸åŒçº¿ç¨‹ä¹‹é—´é‡‡ç”¨å­—ç¬¦ä¸²ä½œä¸ºç›‘è§†å™¨é”ï¼Œä¼šå”¤é†’åˆ«çš„çº¿ç¨‹ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223943618" alt="43"></p>
<p>ä¸åŒçº¿ç¨‹ä¹‹é—´çš„ä¿¡å·æ²¡æœ‰å…±äº«ï¼Œç­‰å¾…çº¿ç¨‹è¢«å”¤é†’åç»§ç»­è¿›å…¥waitçŠ¶æ€ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025223957776" alt="03"></p>
<p>ä¸åŒçº¿ç¨‹çš„ç­‰å¾…ä¸å”¤é†’ç¤ºä¾‹ï¼š</p>
<p><img src="http://img.blog.csdn.net/20171025224010374" alt="18"></p>

      
    </div>
    
  </div>
  
    
<div class="copyright">
  <p><span>æœ¬æ–‡æ ‡é¢˜:</span><a href="/2017/10/25/Java-Threads/">å›¾è§£Javaå¤šçº¿ç¨‹</a></p>
  <p><span>æ–‡ç« ä½œè€…:</span><a href="/" title="è®¿é—® ä»»ä½•å¿§ä¼¤,éƒ½æŠµä¸è¿‡ä¸–ç•Œçš„ç¾ä¸½ çš„ä¸ªäººåšå®¢">ä»»ä½•å¿§ä¼¤,éƒ½æŠµä¸è¿‡ä¸–ç•Œçš„ç¾ä¸½</a></p>
  <p><span>å‘å¸ƒæ—¶é—´:</span>2017å¹´10æœˆ25æ—¥ - 00æ—¶00åˆ†</p>
  <p><span>æœ€åæ›´æ–°:</span>2017å¹´10æœˆ25æ—¥ - 22æ—¶55åˆ†</p>
  <p>
    <span>åŸå§‹é“¾æ¥:</span><a href="/2017/10/25/Java-Threads/" title="å›¾è§£Javaå¤šçº¿ç¨‹">http://github.com/zqhxuyuan/2017/10/25/Java-Threads/</a>
    <span class="btn" data-clipboard-text="åŸæ–‡: http://github.com/zqhxuyuan/2017/10/25/Java-Threads/ã€€ã€€ä½œè€…: ä»»ä½•å¿§ä¼¤,éƒ½æŠµä¸è¿‡ä¸–ç•Œçš„ç¾ä¸½" title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥">
        <i class="fa fa-clipboard"></i>
    </span>
  </p>
  <p><span>è®¸å¯åè®®:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="ä¸­å›½å¤§é™† (CC BY-NC-SA 3.0 CN)">"ç½²å-éå•†ç”¨-ç›¸åŒæ–¹å¼å…±äº« 3.0"</a> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚</p>
  <script src="/js/clipboard.min.js"></script>
  <script> var clipboard = new Clipboard('.btn'); </script>
</div>
<style type="text/css">
  .copyright p .btn {
    margin-left: 1em;
  }
  .copyright:hover p .btn::after {
    content: "å¤åˆ¶"
  }
  .copyright p .btn:hover {
      color: gray;
      cursor: pointer;
    };
</style>



<nav id="article-nav">
  
    <div id="article-nav-newer" class="article-nav-title">
      <a href="/2017/12/24/Midd-TCC-Transactions/">
        ä¸­é—´ä»¶ç³»åˆ—ï¼šTCCï¼ˆå°è¯•-ç¡®è®¤-å–æ¶ˆï¼‰äº‹åŠ¡
      </a>
    </div>
  
  
    <div id="article-nav-older" class="article-nav-title">
      <a href="/2017/10/22/BookNote-DDIA/">
        è¯»ä¹¦ç¬”è®°-Design Data Intensive Applications
      </a>
    </div>
  
</nav>

  
  
    <div class ="post-donate">
	<br/>
	<p>
    <div id="donate_board" class="donate_bar center">
        <a id="btn_donate" class="btn_donate" href="javascript:;" title="æ‰“èµ"></a>
        <span class="donate_txt">
           &uarr;<br>
		   è¿™ä¹ˆé•¿çš„æ–‡ç« æˆ‘éƒ½è¯»å®Œäº†ï¼Œçœ‹èµ·æ¥ä½œè€…å†™çš„å¾ˆè¾›è‹¦å“‡ï¼ç»™ä½œè€…èµæ¯å’–å•¡å–ï¼Œæ”¯æŒä½œè€…ç»§ç»­å†™ä½œğŸ˜
        </span>
        <br>
    </div>  
	<div id="donate_guide" class="donate_bar center hidden" >
		<img src="/img/zhifubao.png" alt="æ”¯ä»˜å®æ‰“èµ"> 
		<img src="/img/weixin.png" alt="å¾®ä¿¡æ‰“èµ">  
    </div>
	<script type="text/javascript">
		document.getElementById('btn_donate').onclick = function(){
			$('#donate_board').addClass('hidden');
			$('#donate_guide').removeClass('hidden');
		}
	</script>
</div>
  
</article>

<!-- é»˜è®¤æ˜¾ç¤ºæ–‡ç« ç›®å½•ï¼Œåœ¨æ–‡ç« ---å‰è¾“å…¥toc: falseå…³é—­ç›®å½• -->
<!-- Show TOC and tocButton in default, Hide TOC via putting "toc: false" before "---" at [post].md -->
<div id="toc" class="toc-article">
<strong class="toc-title">æ–‡ç« ç›®å½•</strong>

</div>
<style type="text/css">
  .left-col .switch-btn {
    display: none;
  }
  .left-col .switch-area {
    display: none;
  }
</style>

<input type="button" id="tocButton" value="éšè—ç›®å½•"  title="ç‚¹å‡»æŒ‰é’®éšè—æˆ–è€…æ˜¾ç¤ºæ–‡ç« ç›®å½•">
<script type="text/javascript">
  var toc_button= document.getElementById("tocButton");
  var toc_div= document.getElementById("toc");
  /* Show or hide toc when click on tocButton.
  é€šè¿‡ç‚¹å‡»è®¾ç½®çš„æŒ‰é’®æ˜¾ç¤ºæˆ–è€…éšè—æ–‡ç« ç›®å½•.*/
  toc_button.onclick=function(){
  if(toc_div.style.display=="none"){
  toc_div.style.display="block";
  toc_button.value="éšè—ç›®å½•";
  document.getElementById("switch-btn").style.display="none";
  document.getElementById("switch-area").style.display="none";
  }
  else{
  toc_div.style.display="none";
  toc_button.value="æ˜¾ç¤ºç›®å½•";
  document.getElementById("switch-btn").style.display="block";
  document.getElementById("switch-area").style.display="block";
  }
  }
    if ($(".toc").length < 1) {
        $("#toc").css("display","none");
        $("#tocButton").css("display","none");
        $(".switch-btn").css("display","block");
        $(".switch-area").css("display","block");
    }
</script>


    <style>
        .toc {
            white-space: nowrap;
            overflow-x: hidden;
        }
    </style>

    <script>
        $(document).ready(function() {
            $(".toc li a").mouseover(function() {
                var title = $(this).attr('href');
                $(this).attr("title", title);
            });
        })
    </script>




<div class="share">
	<div class="bdsharebuttonbox">
	<a href="#" class="bds_more" data-cmd="more"></a>
	<a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš"></a>
	<a href="#" class="bds_sqq" data-cmd="sqq" title="åˆ†äº«ç»™ QQ å¥½å‹"></a>
	<a href="#" class="bds_copy" data-cmd="copy" title="å¤åˆ¶ç½‘å€"></a>
	<a href="#" class="bds_mail" data-cmd="mail" title="é€šè¿‡é‚®ä»¶åˆ†äº«"></a>
	<a href="#" class="bds_weixin" data-cmd="weixin" title="ç”Ÿæˆæ–‡ç« äºŒç»´ç "></a>
	</div>
	<script>
	window._bd_share_config={
		"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
	</script>
</div>



<div class="duoshuo" id="comments">
	<!-- å¤šè¯´è¯„è®ºæ¡† start -->
	<div class="ds-thread" data-thread-key="2017/10/25/Java-Threads/" data-title="å›¾è§£Javaå¤šçº¿ç¨‹" data-url="http://github.com/zqhxuyuan/2017/10/25/Java-Threads/"></div>
	<!-- å¤šè¯´è¯„è®ºæ¡† end -->
	<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"zqhxuyuan"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->
</div>






    <style type="text/css">
    #scroll {
      display: none;
    }
    </style>
    <div class="scroll">
    <a href="#" title="è¿”å›é¡¶éƒ¨"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" title="æŸ¥çœ‹è¯„è®º"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="è½¬åˆ°åº•éƒ¨"><i class="fa fa-arrow-down"></i></a>
    </div>


  
  
    
    <div  class="post-nav-button">
    <a href="/2017/12/24/Midd-TCC-Transactions/" title="ä¸Šä¸€ç¯‡: ä¸­é—´ä»¶ç³»åˆ—ï¼šTCCï¼ˆå°è¯•-ç¡®è®¤-å–æ¶ˆï¼‰äº‹åŠ¡">
    <i class="fa fa-angle-left"></i>
    </a>
    <a href="/2017/10/22/BookNote-DDIA/" title="ä¸‹ä¸€ç¯‡: è¯»ä¹¦ç¬”è®°-Design Data Intensive Applications">
    <i class="fa fa-angle-right"></i>
    </a>
    </div>
  



    
        <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
        <script>
        var yiliaConfig = {
        fancybox: true,
        mathjax: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        open_in_new: false
        }
        </script>
        
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2017 ä»»ä½•å¿§ä¼¤,éƒ½æŠµä¸è¿‡ä¸–ç•Œçš„ç¾ä¸½
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank" title="å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„é™æ€åšå®¢æ¡†æ¶">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="ç®€è€Œä¸å‡åŒæ  Hexo åšå®¢ä¸»é¢˜">Yelee</a> by MOxFIVE
        </div>
    </div>
    <div class="visit">
      <span id="busuanzi_container_site_pv" style='display:none'>
        <span id="site-visit" >æœ¬ç«™åˆ°è®¿æ•°: 
        <span id="busuanzi_value_site_uv"></span>
        </span>
      </span>
      <span id="busuanzi_container_page_pv" style='display:none'>
        <span id="page-visit">, æœ¬é¡µé˜…è¯»é‡: 
        <span id="busuanzi_value_page_pv"></span>
        </span>
      </span>
    </div>
  </div>
</footer>
    </div>
    

<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>

<script>
  var backgroundnum = 5;
  var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));

  $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
</script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-80646710-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<div class="scroll" id="scroll">
<a href="#" title="è¿”å›é¡¶éƒ¨"><i class="fa fa-arrow-up"></i></a>
<a href="#footer" title="è½¬åˆ°åº•éƒ¨"><i class="fa fa-arrow-down"></i></a>
</div>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>